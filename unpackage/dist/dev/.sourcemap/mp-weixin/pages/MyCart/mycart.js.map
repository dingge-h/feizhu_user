{"version":3,"sources":["uni-app:///pages/MyCart/mycart.vue","webpack:///D:/飞猪小程序/飞猪用户端/pages/MyCart/mycart.vue?747d","webpack:///D:/飞猪小程序/飞猪用户端/pages/MyCart/mycart.vue?a49b","uni-app:///main.js","webpack:///D:/飞猪小程序/飞猪用户端/pages/MyCart/mycart.vue?5598","webpack:///D:/飞猪小程序/飞猪用户端/pages/MyCart/mycart.vue?cfd8","webpack:///D:/飞猪小程序/飞猪用户端/pages/MyCart/mycart.vue?c06a","webpack:///D:/飞猪小程序/飞猪用户端/pages/MyCart/mycart.vue?6376"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+EA;AACA;AACA;AACA;;;;AAIA;AACA;AACA,0BADA;AAEA,gBAFA,EADA;;AAKA,MALA,kBAKA;AACA;AACA,mBADA;AAEA,oBAFA;AAGA,sBAHA;AAIA,qBAJA;AAKA,oBALA;AAMA,oBANA;AAOA,sBAPA;AAQA,iBARA;AASA,oBATA;AAUA,kBAVA;AAWA;AACA,gBAZA;AAaA,oBAbA,EAaA;AACA,uBAdA,EAcA;AACA,mBAfA,EAeA;AACA,mBAhBA,CAgBA;AAhBA;AAkBA,GAxBA;AAyBA;AACA;AACA,eAFA,yBAEA;AACA;AACA,UADA,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAPA,MAOA;AACA;AACA;AACA;AACA,OAdA;AAeA,WAfA,CAeA;AACA;AACA,OAjBA;AAkBA,KArBA;;AAuBA;AACA,SAxBA,iBAwBA,SAxBA,EAwBA;AACA,6CADA,SACA,MADA;AAEA,oCAFA;AAGA,KA3BA;;AA6BA;AACA,aA9BA,qBA8BA,SA9BA,EA8BA;AACA;AACA;AACA;AACA;AACA;AACA,+BADA,EADA;;;AAKA,cALA,CAKA;AACA;AACA;AACA;AACA;AACA,WAVA;AAWA,eAXA,CAWA;AACA;AACA,WAbA;AAcA,SAfA;AAgBA,OAlBA;AAmBA,KAlDA;;AAoDA;AACA,aArDA,uBAqDA;AACA;AACA,UADA,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SATA,MASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAlBA;AAmBA,WAnBA,CAmBA;AACA;AACA,OArBA;AAsBA,KA5EA;;AA8EA;AACA,QA/EA,kBA+EA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAtFA;AAuFA;AACA,YAxFA,oBAwFA,OAxFA,EAwFA,EAxFA,EAwFA,UAxFA,EAwFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBADA;AAEA,gCAFA;;AAIA;AACA,OAXA,MAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA;AAGA;AACA;AACA,KArHA;;AAuHA;AACA,aAxHA,qBAwHA,MAxHA,EAwHA,EAxHA,EAwHA;AACA;AACA;AACA,2BADA,EADA;;;AAKA,UALA,CAKA;AACA;AACA;AACA,OARA;AASA,WATA,CASA;AACA;AACA,OAXA;AAYA,KArIA;;;AAwIA;AACA,YAzIA,sBAyIA;AACA;AACA;AACA;AACA;AACA,YADA,CACA;AACA;AACA;AACA;AACA;AACA,WAFA;AAGA;AACA;AACA;AACA,SAVA;AAWA,aAXA,CAWA;AACA;AACA,SAbA;AAcA,OAfA;AAgBA,KA5JA;;AA8JA;AACA,eA/JA,yBA+JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBADA;AAEA,uCAFA;;AAIA;AACA;AACA;AACA;AACA,SATA;AAUA,OAdA,MAcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA1LA;;AA4LA;AACA,aA7LA,qBA6LA,IA7LA,EA6LA;AACA;AACA;AACA;AACA;AACA,2BADA,EADA;;;AAKA,YALA,CAKA;AACA;AACA;AACA;AACA;AACA;AACA,SAXA;AAYA,aAZA,CAYA;AACA;AACA,SAdA;AAeA,OAhBA;AAiBA,KAhNA;;;AAmNA;AACA,QApNA,gBAoNA,KApNA,EAoNA,IApNA,EAoNA,EApNA,EAoNA;AACA;AACA;AACA;AACA;;AAEA,KA1NA;;AA4NA;AACA,UA7NA,kBA6NA,KA7NA,EA6NA,IA7NA,EA6NA,EA7NA,EA6NA;AACA;AACA;AACA;AACA;AACA;AACA,OALA,MAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA1OA;;AA4OA;AACA,eA7OA,uBA6OA,EA7OA,EA6OA,IA7OA,EA6OA,UA7OA,EA6OA;AACA;AACA;AACA,oBADA;AAEA,gCAFA,EADA;;;AAMA,UANA,CAMA;AACA;AACA;AACA,iBADA;;AAGA,WAHA;AAIA,YAJA,CAIA;AACA;AACA;AACA,kBADA;AAEA,kCAFA;;AAIA;AACA;AACA;AACA,WAFA;AAGA;AACA;AACA;;AAEA,SAlBA;AAmBA,aAnBA,CAmBA;AACA;AACA,SArBA;AAsBA;AACA,OA/BA;AAgCA,WAhCA,CAgCA;AACA;AACA,OAlCA;AAmCA,KAjRA;;AAmRA;AACA,cApRA,wBAoRA;AACA;AACA;AACA,qCADA;AAEA,wBAFA;;AAIA;AACA;AACA,2CADA;;AAGA,KA9RA;AA+RA;AACA,QAhSA,gBAgSA,GAhSA,EAgSA,IAhSA,EAgSA;AACA;AACA,kBADA;AAEA,4BAFA;AAGA,4BAHA;AAIA,yCAJA;;AAMA,KAvSA;AAwSA;AACA,UAzSA,kBAySA,KAzSA,EAySA,SAzSA,EAySA;AACA;AACA;AACA,OAFA;AAGA,KA7SA,EAzBA;;;AAyUA;AACA,SA1UA,qBA0UA;AACA;AACA,GA5UA;;;AA+UA;AACA;AACA,WAFA,qBAEA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KARA;AASA;AACA,WAVA,qBAUA;AACA;AACA;AACA,OAFA;AAGA;AACA,KAfA;AAgBA;AACA,eAjBA,yBAiBA;AACA;AACA;AACA;AACA;AACA;AACA,OAHA,EAGA,EAHA;;AAKA;AACA;AACA;AACA;AACA,OAFA;AAGA;AACA,KA/BA,EA/UA;;;AAiXA;AACA,UADA,kBACA,QADA,EACA,QADA,EACA;AACA;AACA;AACA,OAFA;AAGA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAVA,EAjXA,E;;;;;;;;;;;;;ACtFA;AAAA;AAAA;AAAA;AAA84B,CAAgB,63BAAG,EAAC,C;;;;;;;;;;;ACAl6B;AACA,OAAO,KAAU,EAAE,kBAKd;;;;;;;;;;;;;kDCNL;AACA;AACA,+F,6FAFmBA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC;AAGnBC,UAAU,CAACC,eAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA+H;AAC/H;AAC0D;AACL;AACqC;;;AAG1F;AACmK;AACnK,gBAAgB,6KAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,6FAAM;AACR,EAAE,sGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,iGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACrBA;AAAA;AAAA;AAAA;AAAmmB,CAAgB,gnBAAG,EAAC,C","file":"pages/MyCart/mycart.js","sourcesContent":["<template>\r\n    <view>\r\n        <view class=\"content\" v-if=\"mycary\">\r\n            <view class=\"edit\" @click=\"eDit()\">{{editdata}}</view>\r\n            <block v-for=\"(item,index) in shoplist\" :key=\"index\">\r\n                <view class=\"mycatr-back\">\r\n                    <view class=\"content-view\">\r\n                        <!-- 选择器 -->\r\n                        <view class=\"mycatr-radio\">\r\n                            <image src=\"../../static/tab/weixuanzhong.svg\" v-if=\"item.Selection == 'hide' \"\r\n                                @click=\"radioLin(item.Selection,item._id,item.totalPrice)\"></image>\r\n                            <image src=\"../../static/tab/xuanzhong.svg\" v-else\r\n                                @click=\"radioLin(item.Selection,item._id,item.totalPrice)\"></image>\r\n                        </view>\r\n                        <view class=\"content-img\">\r\n                            <image :src=\"item.Coverimg\" mode=\"aspectFill\"></image>\r\n                        </view>\r\n                        <view class=\"content-title\">\r\n                            <text>{{item.title}}</text>\r\n                            <text>出发日期:{{item.datetime}}</text>\r\n                            <text>出发地:{{item.departure}}</text>\r\n                        </view>\r\n                    </view>\r\n                    <!-- 价格 -->\r\n                    <view class=\"mony-flex\">\r\n                        <view class=\"mycatr-mony\">￥{{item.price}}</view>\r\n                        <view class=\"cart-mony\">\r\n                            <text @click=\"reDuce(item.price,item.many,item._id)\">-</text>\r\n                            <text>{{item.many}}</text>\r\n                            <text @click=\"pLus(item.price,item.many,item._id)\">+</text>\r\n                        </view>\r\n                    </view>\r\n                </view>\r\n            </block>\r\n\r\n            <!-- 撑出被改的页面 -->\r\n            <view style=\"height: 200upx;\"></view>\r\n\r\n            <!-- 去下单 -->\r\n            <view class=\"shopping\" v-if=\"shopbottom\">\r\n                <view class=\"shop-view\">\r\n                    <view class=\"ridio-quan\">\r\n                        <image src=\"../../static/tab/weixuanzhong.svg\" v-if=\"alldats == 'hide' \" @click=\"Allelection()\">\r\n                        </image>\r\n                        <image src=\"../../static/tab/xuanzhong.svg\" v-else-if=\"alldats == 'show' \"\r\n                            @click=\"Allelection()\"></image>\r\n                        <text>全选</text>\r\n                    </view>\r\n                    <view>合计:￥{{obtainprice}}</view>\r\n                    <view class=\"shopdata\" @click=\"labfale && placEorder()\">\r\n                        去下单\r\n                    </view>\r\n                </view>\r\n            </view>\r\n\r\n            <!-- 删除 -->\r\n            <view class=\"shopping\" v-if=\"!shopbottom\">\r\n                <view class=\"shop-view\">\r\n                    <view></view>\r\n                    <view class=\"shopdata\" @click=\"labfale && deleShop()\">\r\n                        删除\r\n                    </view>\r\n                </view>\r\n            </view>\r\n\r\n            <!-- 提示组件 -->\r\n            <HMmessages ref=\"HMmessages\" @complete=\"HMmessages = $refs.HMmessages\" @clickMessage=\"clickMessage\">\r\n            </HMmessages>\r\n            <!-- loading组件 -->\r\n            <samll-load v-if=\"samllload\"></samll-load>\r\n        </view>\r\n\r\n        <!-- 没有数据的提示 -->\r\n        <order ref=\"orderlisty\"></order>\r\n        <home-load v-if=\"homeload\"></home-load>\r\n    </view>\r\n</template>\r\n\r\n<script>\r\n    // 引入数据库\r\n    var db = wx.cloud.database()\r\n    var shopdatabase = db.collection('Shopping')\r\n    // 引入提示组件\r\n    import HMmessages from \"@/components/HM-messages/HM-messages.vue\"\r\n    // 引入没有数据的提示\r\n    import order from '../../element/order.vue'\r\n    export default {\r\n        components: {\r\n            HMmessages,\r\n            order\r\n        },\r\n        data() {\r\n            return {\r\n                mycary: false,\r\n                homeload: true,\r\n                samllload: false,\r\n                alldats: 'hide',\r\n                labfale: false,\r\n                editdata: '编辑',\r\n                shopbottom: true,\r\n                current: '',\r\n                indexArray: [],\r\n                shoplist: [],\r\n                // 监听全选和取消全选\r\n                select: '',\r\n                obtainprice: 0, //点击单个得到的总价\r\n                arrtotalPrice: [], //点击得到的总价数组\r\n                fandsdata: {}, //全选push进的id和价格\r\n                Duplicate: [], //全部选中时数组id去重接收\r\n            }\r\n        },\r\n        methods: {\r\n            // 取到购物车数据\r\n            finalchange() {\r\n                shopdatabase.get()\r\n                .then((res) => {\r\n                    // 是否有数据，没有显示提示\r\n                    if (res.data.length === 0) {\r\n                        // 整个loading显示\r\n                        this.homeload = false\r\n                        this.mycary = false\r\n                        let value = true\r\n                        let orderdata = '购物车空空如也！'\r\n                        this.nohint(value, orderdata)\r\n                    } else {\r\n                        let shopDatas = res.data\r\n                        this.setUp(shopDatas)\r\n                    }\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err)\r\n                })\r\n            },\r\n\r\n            // 进入页面把选中的字段变未选中\r\n            async setUp(shopDatas) {\r\n                let Result = await this.forchange(shopDatas)\r\n                await this.shopdatas()\r\n            },\r\n\r\n            // 循环更改所有字段为hide\r\n            forchange(shopDatas) {\r\n                return new Promise((resolve, reject) => {\r\n                    var frequency = 0\r\n                    shopDatas.forEach((item) => {\r\n                        shopdatabase.doc(item._id).update({\r\n                            data: {\r\n                                Selection: 'hide'\r\n                            }\r\n                        })\r\n                        .then((res) => {\r\n                            frequency++\r\n                            if (frequency === shopDatas.length) {\r\n                                resolve('success')\r\n                            }\r\n                        })\r\n                        .catch((err) => {\r\n                            reject(err)\r\n                        })\r\n                    })\r\n                })\r\n            },\r\n\r\n            // 得到最终结果\r\n            shopdatas() {\r\n                shopdatabase.get()\r\n                .then((res) => {\r\n                    if (res.data.length != 0) {\r\n                        // 弹出提示\r\n                        this.shoplist = res.data\r\n                        this.mycary = true\r\n                        let value = false\r\n                        let orderdata = ''\r\n                        this.nohint(value, orderdata)\r\n                        this.homeload = false\r\n                        return\r\n                    } else {\r\n                        this.mycary = false\r\n                        let value = true\r\n                        let orderdata = '购物车空空如也！'\r\n                        this.nohint(value, orderdata)\r\n                        this.homeload = false\r\n                    }\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err)\r\n                })\r\n            },\r\n\r\n            // 删除购物车\r\n            eDit() {\r\n                this.editdata = this.editdata == '完成' ? '编辑' : '完成'\r\n                if (this.editdata == '完成') {\r\n                    this.shopbottom = false\r\n                } else if (this.editdata == '编辑') {\r\n                    this.shopbottom = true\r\n                }\r\n            },\r\n            // 选中\r\n            radioLin(current, id, totalPrice) {\r\n                // 选中图标显示load\r\n                this.samllload = true\r\n                // 未选中图标变选中\r\n                if (current == 'hide') {\r\n                    let ldlist = 'show'\r\n                    this.selecTion(ldlist, id)\r\n                    // 创建一个数组\r\n                    this.indexArray.push(id)\r\n                    // 取到总价\r\n                    let fands = {\r\n                        id,\r\n                        totalPrice\r\n                    }\r\n                    this.arrtotalPrice.push(fands)\r\n                } else {\r\n                    // 选中变未选中\r\n                    let ldlist = 'hide'\r\n                    this.selecTion(ldlist, id)\r\n                    // 删除指定项\r\n                    var indexkml = this.indexArray.indexOf(id);\r\n                    this.indexArray.splice(indexkml, 1)\r\n                    // 取到总价\r\n                    var arrid = [id]\r\n                    let findarr = this.arrtotalPrice.filter((val) => {\r\n                        return !arrid.includes(val.id)\r\n                    })\r\n                    this.arrtotalPrice = findarr\r\n                }\r\n            },\r\n\r\n            // 单个选中和未选中操作公用函数\r\n            selecTion(ldlist, id) {\r\n                shopdatabase.doc(id).update({\r\n                    data: {\r\n                        Selection: ldlist\r\n                    }\r\n                })\r\n                .then((res) => {\r\n                    this.shopdatas()\r\n                    this.samllload = false\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err)\r\n                })\r\n            },\r\n\r\n\r\n            // 删除选中的商品\r\n            deleShop() {\r\n                // 加loading\r\n                this.samllload = true\r\n                this.indexArray.forEach((item) => {\r\n                    shopdatabase.doc(item).remove()\r\n                    .then((res) => {\r\n                        this.indexArray = []\r\n                        this.shopdatas()\r\n                        let findarr = this.arrtotalPrice.filter((val) => {\r\n                            return !item.includes(val.id)\r\n                        })\r\n                        this.arrtotalPrice = findarr\r\n                        // 加loading\r\n                        this.samllload = false\r\n                    })\r\n                    .catch((err) => {\r\n                        console.log(err)\r\n                    })\r\n                })\r\n            },\r\n\r\n            // 全选和取消全选\r\n            Allelection() {\r\n                // 全选图标加loading\r\n                this.samllload = true\r\n                //全选\r\n                if (this.alldats == 'hide') {\r\n                    let show = 'show'\r\n                    this.publicAll(show)\r\n                    // 全选计算总价\r\n                    this.shoplist.forEach((item) => {\r\n                        let fandsdata = {\r\n                            id: item._id,\r\n                            totalPrice: item.totalPrice\r\n                        }\r\n                        this.arrtotalPrice.push(fandsdata)\r\n                        // 把id添加进数组，方便全体删除，添加时数组去重\r\n                        this.Duplicate.push(item._id)\r\n                        this.indexArray = Array.from(new Set(this.Duplicate))\r\n                    })\r\n                } else {\r\n                    let show = 'hide'\r\n                    this.publicAll(show)\r\n                    // 取消全选计算总价\r\n                    this.obtainprice = 0\r\n                    this.arrtotalPrice = []\r\n                    // 清空装有id值的数组\r\n                    this.indexArray = []\r\n                }\r\n            },\r\n\r\n            // 全选和取消全选的公用函数\r\n            publicAll(show) {\r\n                var frequency = 0\r\n                this.shoplist.forEach((item) => {\r\n                    shopdatabase.doc(item._id).update({\r\n                        data: {\r\n                            Selection: show\r\n                        }\r\n                    })\r\n                    .then((res) => {\r\n                        frequency++\r\n                        if (frequency === this.shoplist.length) {\r\n                            this.shopdatas()\r\n                            this.samllload = false\r\n                        }\r\n                    })\r\n                    .catch((err) => {\r\n                        console.log(err)\r\n                    })\r\n                })\r\n            },\r\n\r\n\r\n            // 加价\r\n            pLus(price, many, id) {\r\n                this.samllload = true\r\n                many++\r\n                var totalPrice = price * many\r\n                this.publicPrice(id, many, totalPrice)\r\n\r\n            },\r\n\r\n            // 减价\r\n            reDuce(price, many, id) {\r\n                if (many === 1) {\r\n                    // 给予提示\r\n                    let tip = '购买数量最少为1'\r\n                    let icon = 'danger'\r\n                    this.tips(tip, icon)\r\n                } else {\r\n                    // 减价加loading\r\n                    this.samllload = true\r\n                    many--\r\n                    var totalPrice = price * many\r\n                    this.publicPrice(id, many, totalPrice)\r\n                }\r\n            },\r\n\r\n            // 加减价公用函数\r\n            publicPrice(id, many, totalPrice) {\r\n                shopdatabase.doc(id).update({\r\n                    data: {\r\n                        many,\r\n                        totalPrice\r\n                    }\r\n                })\r\n                .then((res) => {\r\n                    // 数据库更新成功取到当前点击的总价\r\n                    shopdatabase.where({\r\n                        _id: id\r\n                    })\r\n                    .get()\r\n                    .then((res) => {\r\n                        let totalPrice = res.data[0].totalPrice\r\n                        let fands = {\r\n                            id,\r\n                            totalPrice\r\n                        }\r\n                        // 查询已点击的数组id，匹配上，替换总价\r\n                        let findarr = this.arrtotalPrice.map((item) => {\r\n                            return item.id == id ? fands : item\r\n                        })\r\n                        this.arrtotalPrice = findarr\r\n                        // 取消loading\r\n                        this.samllload = false\r\n\r\n                    })\r\n                    .catch((err) => {\r\n                        console.log(err)\r\n                    })\r\n                    this.shopdatas()\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err)\r\n                })\r\n            },\r\n\r\n            // 下单\r\n            placEorder() {\r\n                // 携带总价和这是购物页面跳转的\r\n                let ids = {\r\n                    obtainprice: this.obtainprice,\r\n                    page: 'Shopping'\r\n                }\r\n                let objids = JSON.stringify(ids)\r\n                uni.navigateTo({\r\n                    url: '../order/order?ids=' + objids\r\n                });\r\n            },\r\n            // 提示框\r\n            tips(tip, icon) {\r\n                this.HMmessages.show(tip, {\r\n                    icon: icon,\r\n                    iconColor: \"#ffffff\",\r\n                    fontColor: \"#ffffff\",\r\n                    background: \"rgba(102, 0, 51,.8)\"\r\n                })\r\n            },\r\n            // 提示没有数据的\r\n            nohint(value, orderdata) {\r\n                this.$nextTick(() => { //dom更新循环结束之后的延迟回调\r\n                    this.$refs.orderlisty.init(value, orderdata)\r\n                })\r\n            }\r\n        },\r\n\r\n        // 取到购物车数据\r\n        mounted() {\r\n            this.finalchange()\r\n        },\r\n\r\n\r\n        computed: {\r\n            // 监听如果未选中任何一个禁用删除按钮和下单按钮\r\n            deleBtn() {\r\n                if (this.indexArray.length == 0) {\r\n                    this.labfale = false\r\n                } else {\r\n                    this.labfale = true\r\n                }\r\n            },\r\n            // 监听是否全选\r\n            allList() {\r\n                let select = this.shoplist.map((cars) => {\r\n                    return cars.Selection;\r\n                })\r\n                this.select = select\r\n            },\r\n            // 监听总价计算\r\n            Calculation() {\r\n                // 数组对象去重\r\n                let hash = {};\r\n                const hashdata = this.arrtotalPrice.reduce((preVal, curVal) => {\r\n                    hash[curVal.id] ? '' : hash[curVal.id] = true && preVal.push(curVal);\r\n                    return preVal\r\n                }, [])\r\n\r\n                // 总价计算\r\n                let numdata = 0\r\n                hashdata.forEach((item) => {\r\n                    numdata += item.totalPrice\r\n                })\r\n                this.obtainprice = parseFloat((numdata).toFixed(10))\r\n            }\r\n        },\r\n\r\n        watch: {\r\n            select(newValue, oldValue) {\r\n                var identical = newValue.every((item) => {\r\n                    return item === 'show'\r\n                })\r\n                if (identical === true) {\r\n                    this.alldats = 'show'\r\n                } else {\r\n                    this.alldats = 'hide'\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    text {\r\n        display: block;\r\n    }\r\n\r\n    .content-view {\r\n        display: flex;\r\n        justify-content: space-between;\r\n        height: 130upx !important;\r\n        overflow: hidden;\r\n    }\r\n\r\n    .mycatr-back {\r\n        margin-bottom: 20upx;\r\n        background: #fafafa;\r\n        padding: 20upx;\r\n    }\r\n\r\n    .content-img {\r\n        width: 250upx !important;\r\n        height: 130upx !important;\r\n    }\r\n\r\n    .content-img image {\r\n        width: 100%;\r\n        height: 100%;\r\n    }\r\n\r\n    .content-title {\r\n        width: 100%;\r\n        padding-left: 10upx;\r\n    }\r\n\r\n    .content-title text:nth-child(1) {\r\n        font-size: 30upx;\r\n        font-weight: bold;\r\n        display: -webkit-box;\r\n        -webkit-box-orient: vertical;\r\n        -webkit-line-clamp: 1;\r\n        overflow: hidden;\r\n        padding-top: 0;\r\n        color: #333333;\r\n    }\r\n\r\n    .content-title text {\r\n        font-size: 28upx;\r\n        display: -webkit-box;\r\n        -webkit-box-orient: vertical;\r\n        -webkit-line-clamp: 2;\r\n        overflow: hidden;\r\n        padding-top: 9upx;\r\n        color: #a5a5a5;\r\n    }\r\n\r\n    .edit {\r\n        font-size: 30upx;\r\n        display: flex;\r\n        justify-content: flex-end;\r\n        height: 70upx;\r\n        line-height: 70upx;\r\n        padding-right: 20upx;\r\n    }\r\n\r\n    /* 选择器 */\r\n    .mycatr-radio {\r\n        background: #fafafa;\r\n        height: 130upx;\r\n        line-height: 130upx;\r\n        text-align: center;\r\n        width: 50upx !important;\r\n        padding-right: 20upx;\r\n    }\r\n\r\n    .mycatr-radio image {\r\n        width: 50upx !important;\r\n        height: 50upx !important;\r\n        border-radius: 50%;\r\n    }\r\n\r\n    radio {\r\n        width: 50upx !important;\r\n    }\r\n\r\n    /* 价格 */\r\n    .cart-mony {\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: space-around;\r\n        text-align: center;\r\n    }\r\n\r\n    .cart-mony text {\r\n        background: #ededed;\r\n        padding: 0 25upx;\r\n        height: 60upx;\r\n        line-height: 60upx;\r\n        border-radius: 6upx;\r\n    }\r\n\r\n    .cart-mony text:nth-child(2) {\r\n        background: none;\r\n        padding: 0 10upx;\r\n        flex-grow: 2;\r\n    }\r\n\r\n    .mony-flex {\r\n        display: flex;\r\n        justify-content: space-between;\r\n        background: #fafafa;\r\n        height: 70upx;\r\n        align-items: center;\r\n    }\r\n\r\n    .mycatr-mony {\r\n        padding-left: 100upx;\r\n        color: #ff5000;\r\n    }\r\n\r\n    /* 加入购物车 */\r\n    .shopping {\r\n        width: 100%;\r\n        background: #fafafa;\r\n        border-top: 1rpx solid #e5e5e5;\r\n        position: fixed;\r\n        left: 0;\r\n        right: 0;\r\n        bottom: 0;\r\n    }\r\n\r\n    .shopdata {\r\n        background: #ff5000;\r\n        height: 90upx;\r\n        line-height: 90upx;\r\n        width: 250upx;\r\n        color: #ffffff;\r\n        font-weight: 100;\r\n    }\r\n\r\n    .shop-view {\r\n        display: flex;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n        text-align: center;\r\n        font-size: 30upx;\r\n        padding-left: 20upx;\r\n        color: #ff5000;\r\n        font-weight: bold;\r\n    }\r\n\r\n    .ridio-quan {\r\n        display: flex;\r\n        align-items: center;\r\n    }\r\n\r\n    .ridio-quan image {\r\n        width: 50upx !important;\r\n        height: 50upx !important;\r\n        border-radius: 50%;\r\n    }\r\n\r\n    .ridio-quan text {\r\n        padding-left: 6upx;\r\n    }\r\n</style>","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./mycart.vue?vue&type=style&index=0&id=0406a806&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./mycart.vue?vue&type=style&index=0&id=0406a806&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1645697543979\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/MyCart/mycart.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./mycart.vue?vue&type=template&id=0406a806&scoped=true&\"\nvar renderjs\nimport script from \"./mycart.vue?vue&type=script&lang=js&\"\nexport * from \"./mycart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./mycart.vue?vue&type=style&index=0&id=0406a806&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0406a806\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/MyCart/mycart.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./mycart.vue?vue&type=template&id=0406a806&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.labfale && _vm.placEorder()\n    }\n\n    _vm.e1 = function($event) {\n      _vm.labfale && _vm.deleShop()\n    }\n\n    _vm.e2 = function($event) {\n      _vm.HMmessages = _vm.$refs.HMmessages\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./mycart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./mycart.vue?vue&type=script&lang=js&\""],"sourceRoot":""}